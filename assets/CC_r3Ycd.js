import{d as C,r as u,o as f,F as b,G as B,H as T,z as c,D as $,y as m,I as _,J as g,A as n,K as E,L as w,B as y,T as D,u as F,M as P}from"./VsN8G4vz.js";const x=window.setInterval,R={key:0,class:"loading"},A={class:"loading__percentage"},V={class:"loading__text"},H={key:0,class:"loading__dots"},N=C({__name:"loading",props:{duration:{default:3e3},useRainbow:{type:Boolean,default:!1},showDots:{type:Boolean,default:!0}},setup(L){const l=u(!0),a=u(0),t=u(-90),e=u("Cargando..."),o=u(!1),i=u(!1);let r=null,s=null;const h=["Cargando...","Preparando contenido...","Casi listo...","Configurando...","Iniciando aplicación..."],M=()=>{r=x(()=>{!o.value&&!i.value?a.value<85?(a.value+=Math.random()*1.5,a.value>20&&Math.random()<.02&&(e.value=h[Math.floor(Math.random()*h.length)]||"Cargando...")):a.value<95&&(a.value+=.3,e.value="Finalizando carga..."):i.value||(i.value=!0,e.value="Completando..."),i.value&&(a.value<100?a.value+=4:(a.value=100,e.value="¡Listo!",setTimeout(z,800)))},50)},S=()=>{s=x(()=>{t.value=-90+a.value*3.6},16)},k=()=>{{document.readyState==="complete"?setTimeout(()=>{o.value=!0},1e3):window.addEventListener("load",()=>{setTimeout(()=>{o.value=!0},500)});const d=F();d.beforeEach(()=>(I(),!0)),d.afterEach(()=>{setTimeout(()=>{o.value=!0},800)})}setTimeout(()=>{!o.value&&!i.value&&(o.value=!0,e.value="Completando carga...")},12e3)},I=()=>{a.value=0,t.value=-90,o.value=!1,i.value=!1,e.value="Cargando...",l.value=!0},z=()=>{p(),setTimeout(()=>{l.value=!1,P(()=>{window.$nuxt?.$loading?.finish&&window.$nuxt.$loading.finish()})},300)},p=()=>{r&&(clearInterval(r),r=null),s&&(clearInterval(s),s=null)};return f(()=>{M(),S(),k()}),b(()=>{p()}),B(()=>a.value,d=>{}),(d,v)=>(c(),T(D,{name:"loading-fade",appear:""},{default:$(()=>[g(l)?(c(),m("div",R,[n("div",{class:E(["loading__circle",{rainbow:d.useRainbow}])},[n("div",{class:"loading__progress",style:w({"--progress-angle":`${g(a)*3.6}deg`})},null,4),n("div",{class:"loading__needle",style:w({transform:`translate(-50%, -100%) rotate(${g(t)}deg)`})},null,4),v[0]||(v[0]=n("div",{class:"loading__center"},null,-1)),n("div",A,y(Math.round(g(a)))+"%",1)],2),n("p",V,y(g(e)),1),d.showDots?(c(),m("div",H,[...v[1]||(v[1]=[n("span",null,null,-1),n("span",null,null,-1),n("span",null,null,-1)])])):_("",!0)])):_("",!0)]),_:1}))}}),W=Object.assign(N,{__name:"LayoutsLoading"}),q={key:1,class:"main"},J=C({__name:"index",setup(L){const l=u(!0);f(()=>{setTimeout(()=>{l.value=!1},2500)}),f(()=>{setTimeout(()=>{l.value=!1,a()},2500)});function a(){const t=document.getElementById("shooting-stars");if(!t)return;const e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight,window.addEventListener("resize",()=>{t.width=window.innerWidth,t.height=window.innerHeight});class o{x;y;length;speed;size;constructor(){this.reset()}reset(){this.x=Math.random()*t.width,this.y=Math.random()*t.height/2,this.length=Math.random()*80+10,this.speed=Math.random()*10+6,this.size=Math.random()*2+1}update(){this.x+=this.speed,this.y+=this.speed/2,(this.x>t.width||this.y>t.height)&&this.reset()}draw(){const h=e.createLinearGradient(this.x,this.y,this.x-this.length,this.y-this.length/2);h.addColorStop(0,"rgba(255,255,255,1)"),h.addColorStop(1,"rgba(255,255,255,0)"),e.beginPath(),e.strokeStyle=h,e.lineWidth=this.size,e.moveTo(this.x,this.y),e.lineTo(this.x-this.length,this.y-this.length/2),e.stroke()}}const i=[];for(let s=0;s<20;s++)i.push(new o);function r(){e.clearRect(0,0,t.width,t.height),i.forEach(s=>{s.update(),s.draw()}),requestAnimationFrame(r)}r()}return(t,e)=>(c(),m("div",null,[l.value?(c(),T(W,{key:0})):(c(),m("main",q,[...e[0]||(e[0]=[n("canvas",{id:"shooting-stars"},null,-1),n("div",{class:"main_content"},[n("h1",{class:"main_title"},"Juan Vasquez"),n("p",{class:"main_description"},"Software Developer")],-1)])]))]))}});export{J as default};
